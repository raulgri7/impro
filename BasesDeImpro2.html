
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Situaciones de Improvisaci√≥n con Gemini</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #0056b3;
            text-align: center;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        #generarBtn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            color: #fff;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 20px;
        }
        #generarBtn:hover {
            background-color: #218838;
        }
        .loading {
            text-align: center;
            font-style: italic;
            color: #6c757d;
            margin-top: 20px;
        }
        .situacion {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            background-color: #e9e9e9;
        }
        .situacion h2 {
            margin-top: 0;
            color: #333;
            font-size: 1.2em;
        }
        .quienes, .donde, .locura {
            display: block;
            margin-top: 5px;
        }
        .quienes { font-weight: bold; color: #007bff; }
        .donde { font-weight: bold; color: #6c757d; }
        .locura { font-style: italic; color: #dc3545; border-top: 1px dashed #ccc; padding-top: 5px;}
    </style>
</head>
<body>

    <div class="container">
        <h1>Generador de Ideas de Improvisaci√≥n ü§ñ</h1>

        <button id="generarBtn">Generar 5 Situaciones con la IA</button>

        <div id="resultados">
            <p style="text-align: center; color: #6c757d;">Pulsa el bot√≥n para generar las situaciones.</p>
        </div>
    </div>

    <script>
        // üö® ADVERTENCIA DE SEGURIDAD: NO PONER CLAVES SECRETAS EN FRONTEND EN PRODUCCI√ìN.
        // Aqu√≠ es donde meter√≠as tu clave de Gemini, pero solo para un prototipo local.
        const GEMINI_API_KEY = "AIzaSyBkw_hSk8yJdruIH-mOPWTvd4v7qVh-EyQ"; // <-- ¬°LA CLAVE VA AQU√ç!

        const resultadosDiv = document.getElementById('resultados');
        const generarBtn = document.getElementById('generarBtn');

        // Esta es la funci√≥n que simular√≠a la llamada real a la API de Gemini
        async function generarSituaciones() {
            // 1. Mostrar estado de carga y deshabilitar bot√≥n
            resultadosDiv.innerHTML = '<div class="loading">Cargando y contactando con Gemini...</div>';
            generarBtn.disabled = true;

            // 2. Definici√≥n del Prompt para Gemini
            const promptTexto = `
                Prop√≥n 5 situaciones de improvisaci√≥n para dos personas. 
                Sigue este formato para cada una:
                - ¬øQui√©nes son? (M√°ximo 20 palabras)
                - ¬øD√≥nde est√°n? (M√°ximo 15 palabras)
                - Comentario sobre el Nivel de Locura (Desde 1, Normal, hasta 5, Muy Loca).

                Aseg√∫rate de que la primera situaci√≥n sea normal y la quinta sea muy loca, con aumento progresivo de locura.
                Genera solo el texto sin etiquetas HTML ni encabezados.
                Usa saltos de l√≠nea doble entre situaciones.
            `;
            
            // 3. SIMULACI√ìN DE LLAMADA A LA API (Esto requiere un backend real en producci√≥n)
            // En un entorno real, usar√≠as la fetch API aqu√≠ para contactar un servidor
            // o el SDK de Gemini (si lo usas en un backend).
            console.log("Simulando llamada a la API de Gemini con la clave:", GEMINI_API_KEY.substring(0, 5) + '...'); 

            // Datos de ejemplo para simular la respuesta
            const respuestaSimulada = `
                Qui√©nes son: Dos vecinos que se encuentran por casualidad despu√©s de una gran tormenta.
                D√≥nde est√°n: En la escalera del edificio, intentando encender una linterna.
                Nivel de Locura: 1/5.

                &&&

                Qui√©nes son: Un cazador de sue√±os profesional y un fantasma que ha olvidado c√≥mo flotar.
                D√≥nde est√°n: Dentro de un reloj de cuco gigante detenido a medianoche.
                Nivel de Locura: 3/5.

                &&&

                Qui√©nes son: Dos palomas mensajeras que han decidido jubilarse anticipadamente.
                D√≥nde est√°n: En el tejado de la √ìpera de S√≠dney, discutiendo el plan de pensiones.
                Nivel de Locura: 2/5.

                &&&

                Qui√©nes son: Un cactus parlanch√≠n y un cr√≠tico de cine con p√°nico a las espinas.
                D√≥nde est√°n: En una entrevista de trabajo para ser la planta de la oficina.
                Nivel de Locura: 4/5.
                
                &&&

                Qui√©nes son: Sois dos mol√©culas de hidr√≥geno enamoradas en un viaje interdimensional.
                D√≥nde est√°n: Dentro de la oreja izquierda de un perro salchicha que viaja en tren.
                Nivel de Locura: 5/5.
            `;
            
            // Espera simulada (para que se vea el "Cargando...")
            await new Promise(resolve => setTimeout(resolve, 2000)); 

            // 4. Procesar la respuesta y renderizar en HTML
            mostrarResultados(respuestaSimulada);
            generarBtn.disabled = false; // Habilitar el bot√≥n de nuevo
        }

        function mostrarResultados(textoBruto) {
            // Separa las situaciones usando un delimitador (&&&)
            const situacionesArray = textoBruto.trim().split('&&&').map(s => s.trim()).filter(s => s.length > 0);
            
            let html = '';
            situacionesArray.forEach((situacionTexto, index) => {
                // Divide la situaci√≥n en sus partes
                const partes = situacionTexto.split('\n').map(p => p.trim()).filter(p => p.length > 0);

                let quienes = '';
                let donde = '';
                let locura = '';
                
                partes.forEach(p => {
                    if (p.startsWith('Qui√©nes son:')) {
                        quienes = p.replace('Qui√©nes son:', '').trim();
                    } else if (p.startsWith('D√≥nde est√°n:')) {
                        donde = p.replace('D√≥nde est√°n:', '').trim();
                    } else if (p.startsWith('Nivel de Locura:')) {
                        locura = p.trim();
                    }
                });

                html += `
                    <div class="situacion">
                        <h2>${index + 1}. Situaci√≥n Generada</h2>
                        <span class="quienes">üé≠ ${quienes}</span>
                        <span class="donde">üìç ${donde}</span>
                        <p class="locura">${locura}</p>
                    </div>
                `;
            });

            resultadosDiv.innerHTML = html;
        }

        // Asignar el evento al bot√≥n
        generarBtn.addEventListener('click', generarSituaciones);

        // Generar el primer conjunto al cargar la p√°gina (opcional)
        // generarSituaciones();
    </script>

<hr style="margin-top: 40px; border-color: #ccc;">
    <div style="text-align: center; margin-top: 20px; padding-bottom: 20px;">
        <a href="index.html" style="
            text-decoration: none;
            color: #5f6368;
            font-weight: bold;
            padding: 10px 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: background-color 0.3s;
        ">
            ‚Üê Volver al Men√∫ Principal
        </a>
    </div>

</body>
</html>
